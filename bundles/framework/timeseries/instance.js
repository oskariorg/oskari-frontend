/**
 * @class Oskari.mapframework.bundle.timeseries.TimeseriesToolBundleInstance
 *
 * Registers and starts the
 * Oskari.mapframework.bundle.timeseries.TimeseriesPlaybackPlugin plugin for main map.
 */
Oskari.clazz.define("Oskari.mapframework.bundle.timeseries.TimeseriesToolBundleInstance",

    /**
     * @method create called automatically on construction
     * @static
     */

    function () {
        this.sandbox = null;
        this.started = false;
        this._localization = null;
        this._modules = {};
    }, {
        __name: 'timeseries',
        /**
         * @method getName
         * @return {String} the name for the component
         */
        getName: function () {
            return this.__name;
        },
        /**
         * @method setSandbox
         * @param {Oskari.mapframework.sandbox.Sandbox} sandbox
         * Sets the sandbox reference to this component
         */
        setSandbox: function (sbx) {
            this.sandbox = sbx;
        },
        /**
         * @method getSandbox
         * @return {Oskari.mapframework.sandbox.Sandbox}
         */
        getSandbox: function () {
            return this.sandbox;
        },
        /**
         * @method update
         * implements BundleInstance protocol update method - does nothing atm
         */
        update: function () {
        },
        /**
         * @method getLocalization
         * Returns JSON presentation of bundles localization data for
         * current language.
         * If key-parameter is not given, returns the whole localization
         * data.
         *
         * @param {String} key (optional) if given, returns the value for
         *         key
         * @return {String/Object} returns single localization string or
         *      JSON object for complete data depending on localization
         *      structure and if parameter key is given
         */
        getLocalization: function (key) {
            if (!this._localization) {
                this._localization = Oskari.getLocalization(this.getName());
            }
            if (key) {
                return this._localization[key];
            }
            return this._localization;
        },
        /**
         * @method start
         * implements BundleInstance protocol start methdod
         */
        start: function () {
            var me = this;
            if (me.started) {
                return;
            }
            me.started = true;

            var conf = me.conf,
                sandboxName = (conf ? conf.sandbox : null) || 'sandbox',
                sandbox = Oskari.getSandbox(sandboxName);
            me.setSandbox(sandbox);
            this.localization = Oskari.getLocalization(this.getName());

            sandbox.register(me);
            for (p in me.eventHandlers) {
                if (me.eventHandlers.hasOwnProperty(p)) {
                    sandbox.registerForEventByName(me, p);
                }
            }

            sandbox.addRequestHandler('Timeseries.AnimateLayerRequest', this.requestHandlers.animateLayerRequest);

            // FIXME remove this, only testing!!!
            setTimeout(function(){
                var animateRequestBuilder = me.sandbox.getRequestBuilder('Timeseries.AnimateLayerRequest'),
                        animateRequest;
                if(animateRequestBuilder){
                    /*
                    var times = {
                        start: '2016-01-15T15:35:00.000Z',
                        end: '2016-01-19T13:30:00.000Z',
                        //end: '2016-01-09T08:15:00.000Z',
                        //end: '2016-01-09T12:15:00.000Z',
                        interval: 'PT5M',
                    };
                    */
                   
                   // Show from 4 day beforo to current time
                   var times = {
                        start: moment().subtract(5, 'days').toISOString(),
                        end: moment().toISOString(),
                        interval: 'PT5M'
                   };

                    //var times = ['2016-01-09T07:55:00.000Z','2016-01-09T08:00:00.000Z','2016-01-09T08:05:00.000Z','2016-01-09T08:10:00.000Z','2016-01-09T08:15:00.000Z','2016-01-09T08:20:00.000Z','2016-01-09T08:25:00.000Z','2016-01-09T08:30:00.000Z','2016-01-09T08:35:00.000Z','2016-01-09T08:40:00.000Z','2016-01-09T08:45:00.000Z','2016-01-09T08:50:00.000Z','2016-01-09T08:55:00.000Z','2016-01-09T09:00:00.000Z','2016-01-09T09:05:00.000Z','2016-01-09T09:10:00.000Z','2016-01-09T09:15:00.000Z','2016-01-09T09:20:00.000Z','2016-01-09T09:25:00.000Z','2016-01-09T09:30:00.000Z','2016-01-09T09:35:00.000Z','2016-01-09T09:40:00.000Z','2016-01-09T09:45:00.000Z','2016-01-09T09:50:00.000Z','2016-01-09T09:55:00.000Z','2016-01-09T10:00:00.000Z','2016-01-09T10:05:00.000Z','2016-01-09T10:10:00.000Z','2016-01-09T10:15:00.000Z','2016-01-09T10:20:00.000Z','2016-01-09T10:25:00.000Z','2016-01-09T10:30:00.000Z','2016-01-09T10:35:00.000Z','2016-01-09T10:40:00.000Z','2016-01-09T10:45:00.000Z','2016-01-09T10:50:00.000Z','2016-01-09T10:55:00.000Z','2016-01-09T11:00:00.000Z','2016-01-09T11:05:00.000Z','2016-01-09T11:10:00.000Z','2016-01-09T11:15:00.000Z','2016-01-09T11:20:00.000Z','2016-01-09T11:25:00.000Z','2016-01-09T11:30:00.000Z','2016-01-09T11:35:00.000Z','2016-01-09T11:40:00.000Z','2016-01-09T11:45:00.000Z','2016-01-09T11:50:00.000Z','2016-01-09T11:55:00.000Z','2016-01-09T12:00:00.000Z','2016-01-09T12:05:00.000Z','2016-01-09T12:10:00.000Z','2016-01-09T12:15:00.000Z','2016-01-09T12:20:00.000Z','2016-01-09T12:25:00.000Z','2016-01-09T12:30:00.000Z','2016-01-09T12:35:00.000Z','2016-01-09T12:40:00.000Z','2016-01-09T12:45:00.000Z','2016-01-09T12:50:00.000Z','2016-01-09T12:55:00.000Z','2016-01-09T13:00:00.000Z','2016-01-09T13:05:00.000Z','2016-01-09T13:10:00.000Z','2016-01-09T13:15:00.000Z','2016-01-09T13:20:00.000Z','2016-01-09T13:25:00.000Z','2016-01-09T13:30:00.000Z','2016-01-09T13:35:00.000Z','2016-01-09T13:40:00.000Z','2016-01-09T13:45:00.000Z','2016-01-09T13:50:00.000Z','2016-01-09T13:55:00.000Z','2016-01-09T14:00:00.000Z','2016-01-09T14:05:00.000Z','2016-01-09T14:10:00.000Z','2016-01-09T14:15:00.000Z','2016-01-09T14:20:00.000Z','2016-01-09T14:25:00.000Z','2016-01-09T14:30:00.000Z','2016-01-09T14:35:00.000Z','2016-01-09T14:40:00.000Z','2016-01-09T14:45:00.000Z','2016-01-09T14:50:00.000Z','2016-01-09T14:55:00.000Z','2016-01-09T15:00:00.000Z','2016-01-09T15:05:00.000Z','2016-01-09T15:10:00.000Z','2016-01-09T15:15:00.000Z','2016-01-09T15:20:00.000Z','2016-01-09T15:25:00.000Z','2016-01-09T15:30:00.000Z','2016-01-09T15:35:00.000Z','2016-01-09T15:40:00.000Z','2016-01-09T15:45:00.000Z','2016-01-09T15:50:00.000Z','2016-01-09T15:55:00.000Z','2016-01-09T16:00:00.000Z','2016-01-09T16:05:00.000Z','2016-01-09T16:10:00.000Z','2016-01-09T16:15:00.000Z','2016-01-09T16:20:00.000Z','2016-01-09T16:25:00.000Z','2016-01-09T16:30:00.000Z','2016-01-09T16:35:00.000Z','2016-01-09T16:40:00.000Z','2016-01-09T16:45:00.000Z','2016-01-09T16:50:00.000Z','2016-01-09T16:55:00.000Z','2016-01-09T17:00:00.000Z','2016-01-09T17:05:00.000Z','2016-01-09T17:10:00.000Z','2016-01-09T17:15:00.000Z','2016-01-09T17:20:00.000Z','2016-01-09T17:25:00.000Z','2016-01-09T17:30:00.000Z','2016-01-09T17:35:00.000Z','2016-01-09T17:40:00.000Z','2016-01-09T17:45:00.000Z','2016-01-09T17:50:00.000Z','2016-01-09T17:55:00.000Z','2016-01-09T18:00:00.000Z','2016-01-09T18:05:00.000Z','2016-01-09T18:10:00.000Z','2016-01-09T18:15:00.000Z','2016-01-09T18:20:00.000Z','2016-01-09T18:25:00.000Z','2016-01-09T18:30:00.000Z','2016-01-09T18:35:00.000Z','2016-01-09T18:40:00.000Z','2016-01-09T18:45:00.000Z','2016-01-09T18:50:00.000Z','2016-01-09T18:55:00.000Z','2016-01-09T19:00:00.000Z','2016-01-09T19:05:00.000Z','2016-01-09T19:10:00.000Z','2016-01-09T19:15:00.000Z','2016-01-09T19:20:00.000Z','2016-01-09T19:25:00.000Z','2016-01-09T19:30:00.000Z','2016-01-09T19:35:00.000Z','2016-01-09T19:40:00.000Z','2016-01-09T19:45:00.000Z','2016-01-09T19:50:00.000Z','2016-01-09T19:55:00.000Z','2016-01-09T20:00:00.000Z','2016-01-09T20:05:00.000Z','2016-01-09T20:10:00.000Z','2016-01-09T20:15:00.000Z','2016-01-09T20:20:00.000Z','2016-01-09T20:25:00.000Z','2016-01-09T20:30:00.000Z','2016-01-09T20:35:00.000Z','2016-01-09T20:40:00.000Z','2016-01-09T20:45:00.000Z','2016-01-09T20:50:00.000Z','2016-01-09T20:55:00.000Z','2016-01-09T21:00:00.000Z','2016-01-09T21:05:00.000Z','2016-01-09T21:10:00.000Z','2016-01-09T21:15:00.000Z','2016-01-09T21:20:00.000Z','2016-01-09T21:25:00.000Z','2016-01-09T21:30:00.000Z','2016-01-09T21:35:00.000Z','2016-01-09T21:40:00.000Z','2016-01-09T21:45:00.000Z','2016-01-09T21:50:00.000Z','2016-01-09T21:55:00.000Z','2016-01-09T22:00:00.000Z','2016-01-09T22:05:00.000Z','2016-01-09T22:10:00.000Z','2016-01-09T22:15:00.000Z','2016-01-09T22:20:00.000Z','2016-01-09T22:25:00.000Z','2016-01-09T22:30:00.000Z','2016-01-09T22:35:00.000Z','2016-01-09T22:40:00.000Z','2016-01-09T22:45:00.000Z','2016-01-09T22:50:00.000Z','2016-01-09T22:55:00.000Z','2016-01-09T23:00:00.000Z','2016-01-09T23:05:00.000Z','2016-01-09T23:10:00.000Z','2016-01-09T23:15:00.000Z','2016-01-09T23:20:00.000Z','2016-01-09T23:25:00.000Z','2016-01-09T23:30:00.000Z','2016-01-09T23:35:00.000Z','2016-01-09T23:40:00.000Z','2016-01-09T23:45:00.000Z','2016-01-09T23:50:00.000Z','2016-01-09T23:55:00.000Z','2016-01-10T00:00:00.000Z','2016-01-10T00:05:00.000Z','2016-01-10T00:10:00.000Z','2016-01-10T00:15:00.000Z','2016-01-10T00:20:00.000Z','2016-01-10T00:25:00.000Z','2016-01-10T00:30:00.000Z','2016-01-10T00:35:00.000Z','2016-01-10T00:40:00.000Z','2016-01-10T00:45:00.000Z','2016-01-10T00:50:00.000Z','2016-01-10T00:55:00.000Z','2016-01-10T01:00:00.000Z','2016-01-10T01:05:00.000Z','2016-01-10T01:10:00.000Z','2016-01-10T01:15:00.000Z','2016-01-10T01:20:00.000Z','2016-01-10T01:25:00.000Z','2016-01-10T01:30:00.000Z','2016-01-10T01:35:00.000Z','2016-01-10T01:40:00.000Z','2016-01-10T01:45:00.000Z','2016-01-10T01:50:00.000Z','2016-01-10T01:55:00.000Z','2016-01-10T02:00:00.000Z','2016-01-10T02:05:00.000Z','2016-01-10T02:10:00.000Z','2016-01-10T02:15:00.000Z','2016-01-10T02:20:00.000Z','2016-01-10T02:25:00.000Z','2016-01-10T02:30:00.000Z','2016-01-10T02:35:00.000Z','2016-01-10T02:40:00.000Z','2016-01-10T02:45:00.000Z','2016-01-10T02:50:00.000Z','2016-01-10T02:55:00.000Z','2016-01-10T03:00:00.000Z','2016-01-10T03:05:00.000Z','2016-01-10T03:10:00.000Z','2016-01-10T03:15:00.000Z','2016-01-10T03:20:00.000Z','2016-01-10T03:25:00.000Z','2016-01-10T03:30:00.000Z','2016-01-10T03:35:00.000Z','2016-01-10T03:40:00.000Z','2016-01-10T03:45:00.000Z','2016-01-10T03:50:00.000Z','2016-01-10T03:55:00.000Z','2016-01-10T04:00:00.000Z','2016-01-10T04:05:00.000Z','2016-01-10T04:10:00.000Z','2016-01-10T04:15:00.000Z','2016-01-10T04:20:00.000Z','2016-01-10T04:25:00.000Z','2016-01-10T04:30:00.000Z','2016-01-10T04:35:00.000Z','2016-01-10T04:40:00.000Z','2016-01-10T04:45:00.000Z','2016-01-10T04:50:00.000Z','2016-01-10T04:55:00.000Z','2016-01-10T05:00:00.000Z','2016-01-10T05:05:00.000Z','2016-01-10T05:10:00.000Z','2016-01-10T05:15:00.000Z','2016-01-10T05:20:00.000Z','2016-01-10T05:25:00.000Z','2016-01-10T05:30:00.000Z','2016-01-10T05:35:00.000Z','2016-01-10T05:40:00.000Z','2016-01-10T05:45:00.000Z','2016-01-10T05:50:00.000Z','2016-01-10T05:55:00.000Z','2016-01-10T06:00:00.000Z','2016-01-10T06:05:00.000Z','2016-01-10T06:10:00.000Z','2016-01-10T06:15:00.000Z','2016-01-10T06:20:00.000Z','2016-01-10T06:25:00.000Z','2016-01-10T06:30:00.000Z','2016-01-10T06:35:00.000Z','2016-01-10T06:40:00.000Z','2016-01-10T06:45:00.000Z','2016-01-10T06:50:00.000Z','2016-01-10T06:55:00.000Z','2016-01-10T07:00:00.000Z','2016-01-10T07:05:00.000Z','2016-01-10T07:10:00.000Z','2016-01-10T07:15:00.000Z','2016-01-10T07:20:00.000Z','2016-01-10T07:25:00.000Z','2016-01-10T07:30:00.000Z','2016-01-10T07:35:00.000Z','2016-01-10T07:40:00.000Z','2016-01-10T07:45:00.000Z','2016-01-10T07:50:00.000Z','2016-01-10T07:55:00.000Z','2016-01-10T08:00:00.000Z','2016-01-10T08:05:00.000Z','2016-01-10T08:10:00.000Z','2016-01-10T08:15:00.000Z','2016-01-10T08:20:00.000Z','2016-01-10T08:25:00.000Z','2016-01-10T08:30:00.000Z','2016-01-10T08:35:00.000Z','2016-01-10T08:40:00.000Z','2016-01-10T08:45:00.000Z','2016-01-10T08:50:00.000Z','2016-01-10T08:55:00.000Z','2016-01-10T09:00:00.000Z','2016-01-10T09:05:00.000Z','2016-01-10T09:10:00.000Z','2016-01-10T09:15:00.000Z','2016-01-10T09:20:00.000Z','2016-01-10T09:25:00.000Z','2016-01-10T09:30:00.000Z','2016-01-10T09:35:00.000Z','2016-01-10T09:40:00.000Z','2016-01-10T09:45:00.000Z','2016-01-10T09:50:00.000Z','2016-01-10T09:55:00.000Z','2016-01-10T10:00:00.000Z','2016-01-10T10:05:00.000Z','2016-01-10T10:10:00.000Z','2016-01-10T10:15:00.000Z','2016-01-10T10:20:00.000Z','2016-01-10T10:25:00.000Z','2016-01-10T10:30:00.000Z','2016-01-10T10:35:00.000Z','2016-01-10T10:40:00.000Z','2016-01-10T10:45:00.000Z','2016-01-10T10:50:00.000Z','2016-01-10T10:55:00.000Z','2016-01-10T11:00:00.000Z','2016-01-10T11:05:00.000Z','2016-01-10T11:10:00.000Z','2016-01-10T11:15:00.000Z','2016-01-10T11:20:00.000Z','2016-01-10T11:25:00.000Z','2016-01-10T11:30:00.000Z','2016-01-10T11:35:00.000Z','2016-01-10T11:40:00.000Z','2016-01-10T11:45:00.000Z','2016-01-10T11:50:00.000Z','2016-01-10T11:55:00.000Z','2016-01-10T12:00:00.000Z','2016-01-10T12:05:00.000Z','2016-01-10T12:10:00.000Z','2016-01-10T12:15:00.000Z','2016-01-10T12:20:00.000Z','2016-01-10T12:25:00.000Z','2016-01-10T12:30:00.000Z','2016-01-10T12:35:00.000Z','2016-01-10T12:40:00.000Z','2016-01-10T12:45:00.000Z','2016-01-10T12:50:00.000Z','2016-01-10T12:55:00.000Z','2016-01-10T13:00:00.000Z','2016-01-10T13:05:00.000Z','2016-01-10T13:10:00.000Z','2016-01-10T13:15:00.000Z','2016-01-10T13:20:00.000Z','2016-01-10T13:25:00.000Z','2016-01-10T13:30:00.000Z','2016-01-10T13:35:00.000Z','2016-01-10T13:40:00.000Z','2016-01-10T13:45:00.000Z','2016-01-10T13:50:00.000Z','2016-01-10T13:55:00.000Z','2016-01-10T14:00:00.000Z','2016-01-10T14:05:00.000Z','2016-01-10T14:10:00.000Z','2016-01-10T14:15:00.000Z','2016-01-10T14:20:00.000Z','2016-01-10T14:25:00.000Z','2016-01-10T14:30:00.000Z','2016-01-10T14:35:00.000Z','2016-01-10T14:40:00.000Z','2016-01-10T14:45:00.000Z','2016-01-10T14:50:00.000Z','2016-01-10T14:55:00.000Z','2016-01-10T15:00:00.000Z','2016-01-10T15:05:00.000Z','2016-01-10T15:10:00.000Z','2016-01-10T15:15:00.000Z','2016-01-10T15:20:00.000Z','2016-01-10T15:25:00.000Z','2016-01-10T15:30:00.000Z','2016-01-10T15:35:00.000Z','2016-01-10T15:40:00.000Z','2016-01-10T15:45:00.000Z','2016-01-10T15:50:00.000Z','2016-01-10T15:55:00.000Z','2016-01-10T16:00:00.000Z','2016-01-10T16:05:00.000Z','2016-01-10T16:10:00.000Z','2016-01-10T16:15:00.000Z','2016-01-10T16:20:00.000Z','2016-01-10T16:25:00.000Z','2016-01-10T16:30:00.000Z','2016-01-10T16:35:00.000Z','2016-01-10T16:40:00.000Z','2016-01-10T16:45:00.000Z','2016-01-10T16:50:00.000Z','2016-01-10T16:55:00.000Z','2016-01-10T17:00:00.000Z','2016-01-10T17:05:00.000Z','2016-01-10T17:10:00.000Z','2016-01-10T17:15:00.000Z','2016-01-10T17:20:00.000Z','2016-01-10T17:25:00.000Z','2016-01-10T17:30:00.000Z','2016-01-10T17:35:00.000Z','2016-01-10T17:40:00.000Z','2016-01-10T17:45:00.000Z','2016-01-10T17:50:00.000Z','2016-01-10T17:55:00.000Z','2016-01-10T18:00:00.000Z','2016-01-10T18:05:00.000Z','2016-01-10T18:10:00.000Z','2016-01-10T18:15:00.000Z','2016-01-10T18:20:00.000Z','2016-01-10T18:25:00.000Z','2016-01-10T18:30:00.000Z','2016-01-10T18:35:00.000Z','2016-01-10T18:40:00.000Z','2016-01-10T18:45:00.000Z','2016-01-10T18:50:00.000Z','2016-01-10T18:55:00.000Z','2016-01-10T19:00:00.000Z','2016-01-10T19:05:00.000Z','2016-01-10T19:10:00.000Z','2016-01-10T19:15:00.000Z','2016-01-10T19:20:00.000Z','2016-01-10T19:25:00.000Z','2016-01-10T19:30:00.000Z','2016-01-10T19:35:00.000Z','2016-01-10T19:40:00.000Z','2016-01-10T19:45:00.000Z','2016-01-10T19:50:00.000Z','2016-01-10T19:55:00.000Z','2016-01-10T20:00:00.000Z','2016-01-10T20:05:00.000Z','2016-01-10T20:10:00.000Z','2016-01-10T20:15:00.000Z','2016-01-10T20:20:00.000Z','2016-01-10T20:25:00.000Z','2016-01-10T20:30:00.000Z','2016-01-10T20:35:00.000Z','2016-01-10T20:40:00.000Z','2016-01-10T20:45:00.000Z','2016-01-10T20:50:00.000Z','2016-01-10T20:55:00.000Z','2016-01-10T21:00:00.000Z','2016-01-10T21:05:00.000Z','2016-01-10T21:10:00.000Z','2016-01-10T21:15:00.000Z','2016-01-10T21:20:00.000Z','2016-01-10T21:25:00.000Z','2016-01-10T21:30:00.000Z','2016-01-10T21:35:00.000Z','2016-01-10T21:40:00.000Z','2016-01-10T21:45:00.000Z','2016-01-10T21:50:00.000Z','2016-01-10T21:55:00.000Z','2016-01-10T22:00:00.000Z','2016-01-10T22:05:00.000Z','2016-01-10T22:10:00.000Z','2016-01-10T22:15:00.000Z','2016-01-10T22:20:00.000Z','2016-01-10T22:25:00.000Z','2016-01-10T22:30:00.000Z','2016-01-10T22:35:00.000Z','2016-01-10T22:40:00.000Z','2016-01-10T22:45:00.000Z','2016-01-10T22:50:00.000Z','2016-01-10T22:55:00.000Z','2016-01-10T23:00:00.000Z','2016-01-10T23:05:00.000Z','2016-01-10T23:10:00.000Z','2016-01-10T23:15:00.000Z','2016-01-10T23:20:00.000Z','2016-01-10T23:25:00.000Z','2016-01-10T23:30:00.000Z','2016-01-10T23:35:00.000Z','2016-01-10T23:40:00.000Z','2016-01-10T23:45:00.000Z','2016-01-10T23:50:00.000Z','2016-01-10T23:55:00.000Z','2016-01-11T00:00:00.000Z','2016-01-11T00:05:00.000Z','2016-01-11T00:10:00.000Z','2016-01-11T00:15:00.000Z','2016-01-11T00:20:00.000Z','2016-01-11T00:25:00.000Z','2016-01-11T00:30:00.000Z','2016-01-11T00:35:00.000Z','2016-01-11T00:40:00.000Z','2016-01-11T00:45:00.000Z','2016-01-11T00:50:00.000Z','2016-01-11T00:55:00.000Z','2016-01-11T01:00:00.000Z','2016-01-11T01:05:00.000Z','2016-01-11T01:10:00.000Z','2016-01-11T01:15:00.000Z','2016-01-11T01:20:00.000Z','2016-01-11T01:25:00.000Z','2016-01-11T01:30:00.000Z','2016-01-11T01:35:00.000Z','2016-01-11T01:40:00.000Z','2016-01-11T01:45:00.000Z','2016-01-11T01:50:00.000Z','2016-01-11T01:55:00.000Z','2016-01-11T02:00:00.000Z','2016-01-11T02:05:00.000Z','2016-01-11T02:10:00.000Z','2016-01-11T02:15:00.000Z','2016-01-11T02:20:00.000Z','2016-01-11T02:25:00.000Z','2016-01-11T02:30:00.000Z','2016-01-11T02:35:00.000Z','2016-01-11T02:40:00.000Z','2016-01-11T02:45:00.000Z','2016-01-11T02:50:00.000Z','2016-01-11T02:55:00.000Z','2016-01-11T03:00:00.000Z','2016-01-11T03:05:00.000Z','2016-01-11T03:10:00.000Z','2016-01-11T03:15:00.000Z','2016-01-11T03:20:00.000Z','2016-01-11T03:25:00.000Z','2016-01-11T03:30:00.000Z','2016-01-11T03:35:00.000Z','2016-01-11T03:40:00.000Z','2016-01-11T03:45:00.000Z','2016-01-11T03:50:00.000Z','2016-01-11T03:55:00.000Z','2016-01-11T04:00:00.000Z','2016-01-11T04:05:00.000Z','2016-01-11T04:10:00.000Z','2016-01-11T04:15:00.000Z','2016-01-11T04:20:00.000Z','2016-01-11T04:25:00.000Z','2016-01-11T04:30:00.000Z','2016-01-11T04:35:00.000Z','2016-01-11T04:40:00.000Z','2016-01-11T04:45:00.000Z','2016-01-11T04:50:00.000Z','2016-01-11T04:55:00.000Z','2016-01-11T05:00:00.000Z','2016-01-11T05:05:00.000Z','2016-01-11T05:10:00.000Z','2016-01-11T05:15:00.000Z','2016-01-11T05:20:00.000Z','2016-01-11T05:25:00.000Z','2016-01-11T05:30:00.000Z','2016-01-11T05:35:00.000Z','2016-01-11T05:40:00.000Z','2016-01-11T05:45:00.000Z','2016-01-11T05:50:00.000Z','2016-01-11T05:55:00.000Z','2016-01-11T06:00:00.000Z','2016-01-11T06:05:00.000Z','2016-01-11T06:10:00.000Z','2016-01-11T06:15:00.000Z','2016-01-11T06:20:00.000Z','2016-01-11T06:25:00.000Z','2016-01-11T06:30:00.000Z','2016-01-11T06:35:00.000Z','2016-01-11T06:40:00.000Z','2016-01-11T06:45:00.000Z','2016-01-11T06:50:00.000Z','2016-01-11T06:55:00.000Z','2016-01-11T07:00:00.000Z','2016-01-11T07:05:00.000Z','2016-01-11T07:10:00.000Z','2016-01-11T07:15:00.000Z','2016-01-11T07:20:00.000Z','2016-01-11T07:25:00.000Z','2016-01-11T07:30:00.000Z','2016-01-11T07:35:00.000Z','2016-01-11T07:40:00.000Z','2016-01-11T07:45:00.000Z','2016-01-11T07:50:00.000Z','2016-01-11T07:55:00.000Z','2016-01-11T08:00:00.000Z','2016-01-11T08:05:00.000Z','2016-01-11T08:10:00.000Z','2016-01-11T08:15:00.000Z','2016-01-11T08:20:00.000Z','2016-01-11T08:25:00.000Z','2016-01-11T08:30:00.000Z','2016-01-11T08:35:00.000Z','2016-01-11T08:40:00.000Z','2016-01-11T08:45:00.000Z','2016-01-11T08:50:00.000Z','2016-01-11T08:55:00.000Z','2016-01-11T09:00:00.000Z','2016-01-11T09:05:00.000Z','2016-01-11T09:10:00.000Z','2016-01-11T09:15:00.000Z','2016-01-11T09:20:00.000Z','2016-01-11T09:25:00.000Z','2016-01-11T09:30:00.000Z','2016-01-11T09:35:00.000Z','2016-01-11T09:40:00.000Z','2016-01-11T09:45:00.000Z','2016-01-11T09:50:00.000Z','2016-01-11T09:55:00.000Z','2016-01-11T10:00:00.000Z','2016-01-11T10:05:00.000Z','2016-01-11T10:10:00.000Z','2016-01-11T10:15:00.000Z','2016-01-11T10:20:00.000Z','2016-01-11T10:25:00.000Z','2016-01-11T10:30:00.000Z','2016-01-11T10:35:00.000Z','2016-01-11T10:40:00.000Z','2016-01-11T10:45:00.000Z','2016-01-11T10:50:00.000Z','2016-01-11T10:55:00.000Z','2016-01-11T11:00:00.000Z','2016-01-11T11:05:00.000Z','2016-01-11T11:10:00.000Z','2016-01-11T11:15:00.000Z','2016-01-11T11:20:00.000Z','2016-01-11T11:25:00.000Z','2016-01-11T11:30:00.000Z','2016-01-11T11:35:00.000Z','2016-01-11T11:40:00.000Z','2016-01-11T11:45:00.000Z','2016-01-11T11:50:00.000Z','2016-01-11T11:55:00.000Z','2016-01-11T12:00:00.000Z','2016-01-11T12:05:00.000Z','2016-01-11T12:10:00.000Z','2016-01-11T12:15:00.000Z','2016-01-11T12:20:00.000Z','2016-01-11T12:25:00.000Z','2016-01-11T12:30:00.000Z','2016-01-11T12:35:00.000Z','2016-01-11T12:40:00.000Z','2016-01-11T12:45:00.000Z','2016-01-11T12:50:00.000Z','2016-01-11T12:55:00.000Z','2016-01-11T13:00:00.000Z','2016-01-11T13:05:00.000Z','2016-01-11T13:10:00.000Z','2016-01-11T13:15:00.000Z','2016-01-11T13:20:00.000Z','2016-01-11T13:25:00.000Z','2016-01-11T13:30:00.000Z','2016-01-11T13:35:00.000Z','2016-01-11T13:40:00.000Z','2016-01-11T13:45:00.000Z','2016-01-11T13:50:00.000Z','2016-01-11T13:55:00.000Z','2016-01-11T14:00:00.000Z','2016-01-11T14:05:00.000Z','2016-01-11T14:10:00.000Z','2016-01-11T14:15:00.000Z','2016-01-11T14:20:00.000Z','2016-01-11T14:25:00.000Z','2016-01-11T14:30:00.000Z','2016-01-11T14:35:00.000Z','2016-01-11T14:40:00.000Z','2016-01-11T14:45:00.000Z','2016-01-11T14:50:00.000Z','2016-01-11T14:55:00.000Z','2016-01-11T15:00:00.000Z','2016-01-11T15:05:00.000Z','2016-01-11T15:10:00.000Z','2016-01-11T15:15:00.000Z','2016-01-11T15:20:00.000Z','2016-01-11T15:25:00.000Z','2016-01-11T15:30:00.000Z','2016-01-11T15:35:00.000Z','2016-01-11T15:40:00.000Z','2016-01-11T15:45:00.000Z','2016-01-11T15:50:00.000Z','2016-01-11T15:55:00.000Z','2016-01-11T16:00:00.000Z','2016-01-11T16:05:00.000Z','2016-01-11T16:10:00.000Z','2016-01-11T16:15:00.000Z','2016-01-11T16:20:00.000Z','2016-01-11T16:25:00.000Z','2016-01-11T16:30:00.000Z','2016-01-11T16:35:00.000Z','2016-01-11T16:40:00.000Z','2016-01-11T16:45:00.000Z','2016-01-11T16:50:00.000Z','2016-01-11T16:55:00.000Z','2016-01-11T17:00:00.000Z','2016-01-11T17:05:00.000Z','2016-01-11T17:10:00.000Z','2016-01-11T17:15:00.000Z','2016-01-11T17:20:00.000Z','2016-01-11T17:25:00.000Z','2016-01-11T17:30:00.000Z','2016-01-11T17:35:00.000Z','2016-01-11T17:40:00.000Z','2016-01-11T17:45:00.000Z','2016-01-11T17:50:00.000Z','2016-01-11T17:55:00.000Z','2016-01-11T18:00:00.000Z','2016-01-11T18:05:00.000Z','2016-01-11T18:10:00.000Z','2016-01-11T18:15:00.000Z','2016-01-11T18:20:00.000Z','2016-01-11T18:25:00.000Z','2016-01-11T18:30:00.000Z','2016-01-11T18:35:00.000Z','2016-01-11T18:40:00.000Z','2016-01-11T18:45:00.000Z','2016-01-11T18:50:00.000Z','2016-01-11T18:55:00.000Z','2016-01-11T19:00:00.000Z','2016-01-11T19:05:00.000Z','2016-01-11T19:10:00.000Z','2016-01-11T19:15:00.000Z','2016-01-11T19:20:00.000Z','2016-01-11T19:25:00.000Z','2016-01-11T19:30:00.000Z','2016-01-11T19:35:00.000Z','2016-01-11T19:40:00.000Z','2016-01-11T19:45:00.000Z','2016-01-11T19:50:00.000Z','2016-01-11T19:55:00.000Z','2016-01-11T20:00:00.000Z','2016-01-11T20:05:00.000Z','2016-01-11T20:10:00.000Z','2016-01-11T20:15:00.000Z','2016-01-11T20:20:00.000Z','2016-01-11T20:25:00.000Z','2016-01-11T20:30:00.000Z','2016-01-11T20:35:00.000Z','2016-01-11T20:40:00.000Z','2016-01-11T20:45:00.000Z','2016-01-11T20:50:00.000Z','2016-01-11T20:55:00.000Z','2016-01-11T21:00:00.000Z','2016-01-11T21:05:00.000Z','2016-01-11T21:10:00.000Z','2016-01-11T21:15:00.000Z','2016-01-11T21:20:00.000Z','2016-01-11T21:25:00.000Z','2016-01-11T21:30:00.000Z','2016-01-11T21:35:00.000Z','2016-01-11T21:40:00.000Z','2016-01-11T21:45:00.000Z','2016-01-11T21:50:00.000Z','2016-01-11T21:55:00.000Z','2016-01-11T22:00:00.000Z','2016-01-11T22:05:00.000Z','2016-01-11T22:10:00.000Z','2016-01-11T22:15:00.000Z','2016-01-11T22:20:00.000Z','2016-01-11T22:25:00.000Z','2016-01-11T22:30:00.000Z','2016-01-11T22:35:00.000Z','2016-01-11T22:40:00.000Z','2016-01-11T22:45:00.000Z','2016-01-11T22:50:00.000Z','2016-01-11T22:55:00.000Z','2016-01-11T23:00:00.000Z','2016-01-11T23:05:00.000Z','2016-01-11T23:10:00.000Z','2016-01-11T23:15:00.000Z','2016-01-11T23:20:00.000Z','2016-01-11T23:25:00.000Z','2016-01-11T23:30:00.000Z','2016-01-11T23:35:00.000Z','2016-01-11T23:40:00.000Z','2016-01-11T23:45:00.000Z','2016-01-11T23:50:00.000Z','2016-01-11T23:55:00.000Z','2016-01-12T00:00:00.000Z','2016-01-12T00:05:00.000Z','2016-01-12T00:10:00.000Z','2016-01-12T00:15:00.000Z','2016-01-12T00:20:00.000Z','2016-01-12T00:25:00.000Z','2016-01-12T00:30:00.000Z','2016-01-12T00:35:00.000Z','2016-01-12T00:40:00.000Z','2016-01-12T00:45:00.000Z','2016-01-12T00:50:00.000Z','2016-01-12T00:55:00.000Z','2016-01-12T01:00:00.000Z','2016-01-12T01:05:00.000Z','2016-01-12T01:10:00.000Z','2016-01-12T01:15:00.000Z','2016-01-12T01:20:00.000Z','2016-01-12T01:25:00.000Z','2016-01-12T01:30:00.000Z','2016-01-12T01:35:00.000Z','2016-01-12T01:40:00.000Z','2016-01-12T01:45:00.000Z','2016-01-12T01:50:00.000Z','2016-01-12T01:55:00.000Z','2016-01-12T02:00:00.000Z','2016-01-12T02:05:00.000Z','2016-01-12T02:10:00.000Z','2016-01-12T02:15:00.000Z','2016-01-12T02:20:00.000Z','2016-01-12T02:25:00.000Z','2016-01-12T02:30:00.000Z','2016-01-12T02:35:00.000Z','2016-01-12T02:40:00.000Z','2016-01-12T02:45:00.000Z','2016-01-12T02:50:00.000Z','2016-01-12T02:55:00.000Z','2016-01-12T03:00:00.000Z','2016-01-12T03:05:00.000Z','2016-01-12T03:10:00.000Z','2016-01-12T03:15:00.000Z','2016-01-12T03:20:00.000Z','2016-01-12T03:25:00.000Z','2016-01-12T03:30:00.000Z','2016-01-12T03:35:00.000Z','2016-01-12T03:40:00.000Z','2016-01-12T03:45:00.000Z','2016-01-12T03:50:00.000Z','2016-01-12T03:55:00.000Z','2016-01-12T04:00:00.000Z','2016-01-12T04:05:00.000Z','2016-01-12T04:10:00.000Z','2016-01-12T04:15:00.000Z','2016-01-12T04:20:00.000Z','2016-01-12T04:25:00.000Z','2016-01-12T04:30:00.000Z','2016-01-12T04:35:00.000Z','2016-01-12T04:40:00.000Z','2016-01-12T04:45:00.000Z','2016-01-12T04:50:00.000Z','2016-01-12T04:55:00.000Z','2016-01-12T05:00:00.000Z','2016-01-12T05:05:00.000Z','2016-01-12T05:10:00.000Z','2016-01-12T05:15:00.000Z','2016-01-12T05:20:00.000Z','2016-01-12T05:25:00.000Z','2016-01-12T05:30:00.000Z','2016-01-12T05:35:00.000Z','2016-01-12T05:40:00.000Z','2016-01-12T05:45:00.000Z','2016-01-12T05:50:00.000Z','2016-01-12T05:55:00.000Z','2016-01-12T06:00:00.000Z','2016-01-12T06:05:00.000Z','2016-01-12T06:10:00.000Z','2016-01-12T06:15:00.000Z','2016-01-12T06:20:00.000Z','2016-01-12T06:25:00.000Z','2016-01-12T06:30:00.000Z','2016-01-12T06:35:00.000Z','2016-01-12T06:40:00.000Z','2016-01-12T06:45:00.000Z','2016-01-12T06:50:00.000Z','2016-01-12T06:55:00.000Z','2016-01-12T07:00:00.000Z','2016-01-12T07:05:00.000Z','2016-01-12T07:10:00.000Z','2016-01-12T07:15:00.000Z','2016-01-12T07:20:00.000Z','2016-01-12T07:25:00.000Z','2016-01-12T07:30:00.000Z','2016-01-12T07:35:00.000Z','2016-01-12T07:40:00.000Z','2016-01-12T07:45:00.000Z','2016-01-12T07:50:00.000Z','2016-01-12T07:55:00.000Z','2016-01-12T08:00:00.000Z','2016-01-12T08:05:00.000Z','2016-01-12T08:10:00.000Z','2016-01-12T08:15:00.000Z','2016-01-12T08:20:00.000Z','2016-01-12T08:25:00.000Z','2016-01-12T08:30:00.000Z','2016-01-12T08:35:00.000Z','2016-01-12T08:40:00.000Z','2016-01-12T08:45:00.000Z','2016-01-12T08:50:00.000Z','2016-01-12T08:55:00.000Z','2016-01-12T09:00:00.000Z','2016-01-12T09:05:00.000Z','2016-01-12T09:10:00.000Z','2016-01-12T09:15:00.000Z','2016-01-12T09:20:00.000Z','2016-01-12T09:25:00.000Z','2016-01-12T09:30:00.000Z','2016-01-12T09:35:00.000Z','2016-01-12T09:40:00.000Z','2016-01-12T09:45:00.000Z','2016-01-12T09:50:00.000Z','2016-01-12T09:55:00.000Z','2016-01-12T10:00:00.000Z','2016-01-12T10:05:00.000Z','2016-01-12T10:10:00.000Z','2016-01-12T10:15:00.000Z','2016-01-12T10:20:00.000Z','2016-01-12T10:25:00.000Z','2016-01-12T10:30:00.000Z','2016-01-12T10:35:00.000Z','2016-01-12T10:40:00.000Z','2016-01-12T10:45:00.000Z','2016-01-12T10:50:00.000Z','2016-01-12T10:55:00.000Z','2016-01-12T11:00:00.000Z','2016-01-12T11:05:00.000Z','2016-01-12T11:10:00.000Z','2016-01-12T11:15:00.000Z','2016-01-12T11:20:00.000Z','2016-01-12T11:25:00.000Z','2016-01-12T11:30:00.000Z','2016-01-12T11:35:00.000Z','2016-01-12T11:40:00.000Z','2016-01-12T11:45:00.000Z','2016-01-12T11:50:00.000Z','2016-01-12T11:55:00.000Z','2016-01-12T12:00:00.000Z','2016-01-12T12:05:00.000Z','2016-01-12T12:10:00.000Z','2016-01-12T12:15:00.000Z','2016-01-12T12:20:00.000Z','2016-01-12T12:25:00.000Z','2016-01-12T12:30:00.000Z','2016-01-12T12:35:00.000Z','2016-01-12T12:40:00.000Z','2016-01-12T12:45:00.000Z','2016-01-12T12:50:00.000Z','2016-01-12T12:55:00.000Z','2016-01-12T13:00:00.000Z','2016-01-12T13:05:00.000Z','2016-01-12T13:10:00.000Z','2016-01-12T13:15:00.000Z','2016-01-12T13:20:00.000Z','2016-01-12T13:25:00.000Z','2016-01-12T13:30:00.000Z','2016-01-12T13:35:00.000Z','2016-01-12T13:40:00.000Z','2016-01-12T13:45:00.000Z','2016-01-12T13:50:00.000Z','2016-01-12T13:55:00.000Z','2016-01-12T14:00:00.000Z','2016-01-12T14:05:00.000Z','2016-01-12T14:10:00.000Z','2016-01-12T14:15:00.000Z','2016-01-12T14:20:00.000Z','2016-01-12T14:25:00.000Z','2016-01-12T14:30:00.000Z','2016-01-12T14:35:00.000Z','2016-01-12T14:40:00.000Z','2016-01-12T14:45:00.000Z','2016-01-12T14:50:00.000Z','2016-01-12T14:55:00.000Z','2016-01-12T15:00:00.000Z','2016-01-12T15:05:00.000Z','2016-01-12T15:10:00.000Z','2016-01-12T15:15:00.000Z','2016-01-12T15:20:00.000Z','2016-01-12T15:25:00.000Z','2016-01-12T15:30:00.000Z','2016-01-12T15:35:00.000Z','2016-01-12T15:40:00.000Z','2016-01-12T15:45:00.000Z','2016-01-12T15:50:00.000Z','2016-01-12T15:55:00.000Z','2016-01-12T16:00:00.000Z','2016-01-12T16:05:00.000Z','2016-01-12T16:10:00.000Z','2016-01-12T16:15:00.000Z','2016-01-12T16:20:00.000Z','2016-01-12T16:25:00.000Z','2016-01-12T16:30:00.000Z','2016-01-12T16:35:00.000Z','2016-01-12T16:40:00.000Z','2016-01-12T16:45:00.000Z','2016-01-12T16:50:00.000Z','2016-01-12T16:55:00.000Z','2016-01-12T17:00:00.000Z','2016-01-12T17:05:00.000Z','2016-01-12T17:10:00.000Z','2016-01-12T17:15:00.000Z','2016-01-12T17:20:00.000Z','2016-01-12T17:25:00.000Z','2016-01-12T17:30:00.000Z','2016-01-12T17:35:00.000Z','2016-01-12T17:40:00.000Z','2016-01-12T17:45:00.000Z','2016-01-12T17:50:00.000Z','2016-01-12T17:55:00.000Z','2016-01-12T18:00:00.000Z','2016-01-12T18:05:00.000Z','2016-01-12T18:10:00.000Z','2016-01-12T18:15:00.000Z','2016-01-12T18:20:00.000Z','2016-01-12T18:25:00.000Z','2016-01-12T18:30:00.000Z','2016-01-12T18:35:00.000Z','2016-01-12T18:40:00.000Z','2016-01-12T18:45:00.000Z','2016-01-12T18:50:00.000Z','2016-01-12T18:55:00.000Z','2016-01-12T19:00:00.000Z','2016-01-12T19:05:00.000Z','2016-01-12T19:10:00.000Z','2016-01-12T19:15:00.000Z','2016-01-12T19:20:00.000Z','2016-01-12T19:25:00.000Z','2016-01-12T19:30:00.000Z','2016-01-12T19:35:00.000Z','2016-01-12T19:40:00.000Z','2016-01-12T19:45:00.000Z','2016-01-12T19:50:00.000Z','2016-01-12T19:55:00.000Z','2016-01-12T20:00:00.000Z','2016-01-12T20:05:00.000Z','2016-01-12T20:10:00.000Z','2016-01-12T20:15:00.000Z','2016-01-12T20:20:00.000Z','2016-01-12T20:25:00.000Z','2016-01-12T20:30:00.000Z','2016-01-12T20:35:00.000Z','2016-01-12T20:40:00.000Z','2016-01-12T20:45:00.000Z','2016-01-12T20:50:00.000Z','2016-01-12T20:55:00.000Z','2016-01-12T21:00:00.000Z','2016-01-12T21:05:00.000Z','2016-01-12T21:10:00.000Z','2016-01-12T21:15:00.000Z','2016-01-12T21:20:00.000Z','2016-01-12T21:25:00.000Z','2016-01-12T21:30:00.000Z','2016-01-12T21:35:00.000Z','2016-01-12T21:40:00.000Z','2016-01-12T21:45:00.000Z','2016-01-12T21:50:00.000Z','2016-01-12T21:55:00.000Z','2016-01-12T22:00:00.000Z','2016-01-12T22:05:00.000Z','2016-01-12T22:10:00.000Z','2016-01-12T22:15:00.000Z','2016-01-12T22:20:00.000Z','2016-01-12T22:25:00.000Z','2016-01-12T22:30:00.000Z','2016-01-12T22:35:00.000Z','2016-01-12T22:40:00.000Z','2016-01-12T22:45:00.000Z','2016-01-12T22:50:00.000Z','2016-01-12T22:55:00.000Z','2016-01-12T23:00:00.000Z','2016-01-12T23:05:00.000Z','2016-01-12T23:10:00.000Z','2016-01-12T23:15:00.000Z','2016-01-12T23:20:00.000Z','2016-01-12T23:25:00.000Z','2016-01-12T23:30:00.000Z','2016-01-12T23:35:00.000Z','2016-01-12T23:40:00.000Z','2016-01-12T23:45:00.000Z','2016-01-12T23:50:00.000Z','2016-01-12T23:55:00.000Z','2016-01-13T00:00:00.000Z','2016-01-13T00:05:00.000Z','2016-01-13T00:10:00.000Z','2016-01-13T00:15:00.000Z','2016-01-13T00:20:00.000Z','2016-01-13T00:25:00.000Z','2016-01-13T00:30:00.000Z','2016-01-13T00:35:00.000Z','2016-01-13T00:40:00.000Z','2016-01-13T00:45:00.000Z','2016-01-13T00:50:00.000Z','2016-01-13T00:55:00.000Z','2016-01-13T01:00:00.000Z','2016-01-13T01:05:00.000Z','2016-01-13T01:10:00.000Z','2016-01-13T01:15:00.000Z','2016-01-13T01:20:00.000Z','2016-01-13T01:25:00.000Z','2016-01-13T01:30:00.000Z','2016-01-13T01:35:00.000Z','2016-01-13T01:40:00.000Z','2016-01-13T01:45:00.000Z','2016-01-13T01:50:00.000Z','2016-01-13T01:55:00.000Z','2016-01-13T02:00:00.000Z','2016-01-13T02:05:00.000Z','2016-01-13T02:10:00.000Z','2016-01-13T02:15:00.000Z','2016-01-13T02:20:00.000Z','2016-01-13T02:25:00.000Z','2016-01-13T02:30:00.000Z','2016-01-13T02:35:00.000Z','2016-01-13T02:40:00.000Z','2016-01-13T02:45:00.000Z','2016-01-13T02:50:00.000Z','2016-01-13T02:55:00.000Z','2016-01-13T03:00:00.000Z','2016-01-13T03:05:00.000Z','2016-01-13T03:10:00.000Z','2016-01-13T03:15:00.000Z','2016-01-13T03:20:00.000Z','2016-01-13T03:25:00.000Z','2016-01-13T03:30:00.000Z','2016-01-13T03:35:00.000Z','2016-01-13T03:40:00.000Z','2016-01-13T03:45:00.000Z','2016-01-13T03:50:00.000Z','2016-01-13T03:55:00.000Z','2016-01-13T04:00:00.000Z','2016-01-13T04:05:00.000Z','2016-01-13T04:10:00.000Z','2016-01-13T04:15:00.000Z','2016-01-13T04:20:00.000Z','2016-01-13T04:25:00.000Z','2016-01-13T04:30:00.000Z','2016-01-13T04:35:00.000Z','2016-01-13T04:40:00.000Z','2016-01-13T04:45:00.000Z','2016-01-13T04:50:00.000Z','2016-01-13T04:55:00.000Z','2016-01-13T05:00:00.000Z','2016-01-13T05:05:00.000Z','2016-01-13T05:10:00.000Z','2016-01-13T05:15:00.000Z','2016-01-13T05:20:00.000Z','2016-01-13T05:25:00.000Z','2016-01-13T05:30:00.000Z','2016-01-13T05:35:00.000Z','2016-01-13T05:40:00.000Z','2016-01-13T05:45:00.000Z','2016-01-13T05:50:00.000Z','2016-01-13T05:55:00.000Z','2016-01-13T06:00:00.000Z','2016-01-13T06:05:00.000Z','2016-01-13T06:10:00.000Z','2016-01-13T06:15:00.000Z','2016-01-13T06:20:00.000Z','2016-01-13T06:25:00.000Z','2016-01-13T06:30:00.000Z','2016-01-13T06:35:00.000Z','2016-01-13T06:40:00.000Z','2016-01-13T06:45:00.000Z','2016-01-13T06:50:00.000Z','2016-01-13T06:55:00.000Z','2016-01-13T07:00:00.000Z','2016-01-13T07:05:00.000Z','2016-01-13T07:10:00.000Z','2016-01-13T07:15:00.000Z','2016-01-13T07:20:00.000Z','2016-01-13T07:25:00.000Z','2016-01-13T07:30:00.000Z','2016-01-13T07:35:00.000Z','2016-01-13T07:40:00.000Z','2016-01-13T07:45:00.000Z','2016-01-13T07:50:00.000Z','2016-01-13T07:55:00.000Z','2016-01-13T08:00:00.000Z','2016-01-13T08:05:00.000Z','2016-01-13T08:10:00.000Z','2016-01-13T08:15:00.000Z','2016-01-13T08:20:00.000Z','2016-01-13T08:25:00.000Z','2016-01-13T08:30:00.000Z','2016-01-13T08:35:00.000Z','2016-01-13T08:40:00.000Z','2016-01-13T08:45:00.000Z','2016-01-13T08:50:00.000Z','2016-01-13T08:55:00.000Z','2016-01-13T09:00:00.000Z','2016-01-13T09:05:00.000Z','2016-01-13T09:10:00.000Z','2016-01-13T09:15:00.000Z','2016-01-13T09:20:00.000Z','2016-01-13T09:25:00.000Z','2016-01-13T09:30:00.000Z','2016-01-13T09:35:00.000Z','2016-01-13T09:40:00.000Z','2016-01-13T09:45:00.000Z','2016-01-13T09:50:00.000Z','2016-01-13T09:55:00.000Z','2016-01-13T10:00:00.000Z','2016-01-13T10:05:00.000Z','2016-01-13T10:10:00.000Z','2016-01-13T10:15:00.000Z','2016-01-13T10:20:00.000Z','2016-01-13T10:25:00.000Z','2016-01-13T10:30:00.000Z','2016-01-13T10:35:00.000Z','2016-01-13T10:40:00.000Z','2016-01-13T10:45:00.000Z','2016-01-13T10:50:00.000Z','2016-01-13T10:55:00.000Z','2016-01-13T11:00:00.000Z','2016-01-13T11:05:00.000Z','2016-01-13T11:10:00.000Z','2016-01-13T11:15:00.000Z','2016-01-13T11:20:00.000Z','2016-01-13T11:25:00.000Z','2016-01-13T11:30:00.000Z','2016-01-13T11:35:00.000Z','2016-01-13T11:40:00.000Z','2016-01-13T11:45:00.000Z','2016-01-13T11:50:00.000Z','2016-01-13T11:55:00.000Z','2016-01-13T12:00:00.000Z','2016-01-13T12:05:00.000Z','2016-01-13T12:10:00.000Z','2016-01-13T12:15:00.000Z','2016-01-13T12:20:00.000Z','2016-01-13T12:25:00.000Z','2016-01-13T12:30:00.000Z','2016-01-13T12:35:00.000Z','2016-01-13T12:40:00.000Z','2016-01-13T12:45:00.000Z','2016-01-13T12:50:00.000Z','2016-01-13T12:55:00.000Z','2016-01-13T13:00:00.000Z','2016-01-13T13:05:00.000Z','2016-01-13T13:10:00.000Z','2016-01-13T13:15:00.000Z','2016-01-13T13:20:00.000Z','2016-01-13T13:25:00.000Z','2016-01-13T13:30:00.000Z','2016-01-13T13:35:00.000Z','2016-01-13T13:40:00.000Z','2016-01-13T13:45:00.000Z','2016-01-13T13:50:00.000Z','2016-01-13T13:55:00.000Z','2016-01-13T14:00:00.000Z','2016-01-13T14:05:00.000Z','2016-01-13T14:10:00.000Z','2016-01-13T14:15:00.000Z','2016-01-13T14:20:00.000Z','2016-01-13T14:25:00.000Z','2016-01-13T14:30:00.000Z','2016-01-13T14:35:00.000Z','2016-01-13T14:40:00.000Z','2016-01-13T14:45:00.000Z','2016-01-13T14:50:00.000Z','2016-01-13T14:55:00.000Z','2016-01-13T15:00:00.000Z','2016-01-13T15:05:00.000Z','2016-01-13T15:10:00.000Z','2016-01-13T15:15:00.000Z','2016-01-13T15:20:00.000Z','2016-01-13T15:25:00.000Z','2016-01-13T15:30:00.000Z','2016-01-13T15:35:00.000Z','2016-01-13T15:40:00.000Z','2016-01-13T15:45:00.000Z','2016-01-13T15:50:00.000Z','2016-01-13T15:55:00.000Z','2016-01-13T16:00:00.000Z','2016-01-13T16:05:00.000Z','2016-01-13T16:10:00.000Z','2016-01-13T16:15:00.000Z','2016-01-13T16:20:00.000Z','2016-01-13T16:25:00.000Z','2016-01-13T16:30:00.000Z','2016-01-13T16:35:00.000Z','2016-01-13T16:40:00.000Z','2016-01-13T16:45:00.000Z','2016-01-13T16:50:00.000Z','2016-01-13T16:55:00.000Z','2016-01-13T17:00:00.000Z','2016-01-13T17:05:00.000Z','2016-01-13T17:10:00.000Z','2016-01-13T17:15:00.000Z','2016-01-13T17:20:00.000Z','2016-01-13T17:25:00.000Z','2016-01-13T17:30:00.000Z','2016-01-13T17:35:00.000Z','2016-01-13T17:40:00.000Z','2016-01-13T17:45:00.000Z','2016-01-13T17:50:00.000Z','2016-01-13T17:55:00.000Z','2016-01-13T18:00:00.000Z','2016-01-13T18:05:00.000Z','2016-01-13T18:10:00.000Z','2016-01-13T18:15:00.000Z','2016-01-13T18:20:00.000Z','2016-01-13T18:25:00.000Z','2016-01-13T18:30:00.000Z','2016-01-13T18:35:00.000Z','2016-01-13T18:40:00.000Z','2016-01-13T18:45:00.000Z','2016-01-13T18:50:00.000Z','2016-01-13T18:55:00.000Z','2016-01-13T19:00:00.000Z','2016-01-13T19:05:00.000Z','2016-01-13T19:10:00.000Z','2016-01-13T19:15:00.000Z','2016-01-13T19:20:00.000Z','2016-01-13T19:25:00.000Z','2016-01-13T19:30:00.000Z','2016-01-13T19:35:00.000Z','2016-01-13T19:40:00.000Z','2016-01-13T19:45:00.000Z','2016-01-13T19:50:00.000Z','2016-01-13T19:55:00.000Z','2016-01-13T20:00:00.000Z','2016-01-13T20:05:00.000Z','2016-01-13T20:10:00.000Z','2016-01-13T20:15:00.000Z','2016-01-13T20:20:00.000Z','2016-01-13T20:25:00.000Z','2016-01-13T20:30:00.000Z','2016-01-13T20:35:00.000Z','2016-01-13T20:40:00.000Z','2016-01-13T20:45:00.000Z','2016-01-13T20:50:00.000Z','2016-01-13T20:55:00.000Z','2016-01-13T21:00:00.000Z','2016-01-13T21:05:00.000Z','2016-01-13T21:10:00.000Z','2016-01-13T21:15:00.000Z','2016-01-13T21:20:00.000Z','2016-01-13T21:25:00.000Z','2016-01-13T21:30:00.000Z','2016-01-13T21:35:00.000Z','2016-01-13T21:40:00.000Z','2016-01-13T21:45:00.000Z','2016-01-13T21:50:00.000Z','2016-01-13T21:55:00.000Z','2016-01-13T22:00:00.000Z','2016-01-13T22:05:00.000Z','2016-01-13T22:10:00.000Z','2016-01-13T22:15:00.000Z','2016-01-13T22:20:00.000Z','2016-01-13T22:25:00.000Z','2016-01-13T22:30:00.000Z','2016-01-13T22:35:00.000Z','2016-01-13T22:40:00.000Z','2016-01-13T22:45:00.000Z','2016-01-13T22:50:00.000Z','2016-01-13T22:55:00.000Z','2016-01-13T23:00:00.000Z','2016-01-13T23:05:00.000Z','2016-01-13T23:10:00.000Z','2016-01-13T23:15:00.000Z','2016-01-13T23:20:00.000Z','2016-01-13T23:25:00.000Z','2016-01-13T23:30:00.000Z','2016-01-13T23:35:00.000Z','2016-01-13T23:40:00.000Z','2016-01-13T23:45:00.000Z','2016-01-13T23:50:00.000Z','2016-01-13T23:55:00.000Z','2016-01-14T00:00:00.000Z','2016-01-14T00:05:00.000Z','2016-01-14T00:10:00.000Z','2016-01-14T00:15:00.000Z','2016-01-14T00:20:00.000Z','2016-01-14T00:25:00.000Z','2016-01-14T00:30:00.000Z','2016-01-14T00:35:00.000Z','2016-01-14T00:40:00.000Z','2016-01-14T00:45:00.000Z','2016-01-14T00:50:00.000Z','2016-01-14T00:55:00.000Z','2016-01-14T01:00:00.000Z','2016-01-14T01:05:00.000Z','2016-01-14T01:10:00.000Z','2016-01-14T01:15:00.000Z','2016-01-14T01:20:00.000Z','2016-01-14T01:25:00.000Z','2016-01-14T01:30:00.000Z','2016-01-14T01:35:00.000Z','2016-01-14T01:40:00.000Z','2016-01-14T01:45:00.000Z','2016-01-14T01:50:00.000Z','2016-01-14T01:55:00.000Z','2016-01-14T02:00:00.000Z','2016-01-14T02:05:00.000Z','2016-01-14T02:10:00.000Z','2016-01-14T02:15:00.000Z','2016-01-14T02:20:00.000Z','2016-01-14T02:25:00.000Z','2016-01-14T02:30:00.000Z','2016-01-14T02:35:00.000Z','2016-01-14T02:40:00.000Z','2016-01-14T02:45:00.000Z','2016-01-14T02:50:00.000Z','2016-01-14T02:55:00.000Z','2016-01-14T03:00:00.000Z','2016-01-14T03:05:00.000Z','2016-01-14T03:10:00.000Z','2016-01-14T03:15:00.000Z','2016-01-14T03:20:00.000Z','2016-01-14T03:25:00.000Z','2016-01-14T03:30:00.000Z','2016-01-14T03:35:00.000Z','2016-01-14T03:40:00.000Z','2016-01-14T03:45:00.000Z','2016-01-14T03:50:00.000Z','2016-01-14T03:55:00.000Z','2016-01-14T04:00:00.000Z','2016-01-14T04:05:00.000Z','2016-01-14T04:10:00.000Z','2016-01-14T04:15:00.000Z','2016-01-14T04:20:00.000Z','2016-01-14T04:25:00.000Z','2016-01-14T04:30:00.000Z','2016-01-14T04:35:00.000Z','2016-01-14T04:40:00.000Z','2016-01-14T04:45:00.000Z','2016-01-14T04:50:00.000Z','2016-01-14T04:55:00.000Z','2016-01-14T05:00:00.000Z','2016-01-14T05:05:00.000Z','2016-01-14T05:10:00.000Z','2016-01-14T05:15:00.000Z','2016-01-14T05:20:00.000Z','2016-01-14T05:25:00.000Z','2016-01-14T05:30:00.000Z','2016-01-14T05:35:00.000Z','2016-01-14T05:40:00.000Z','2016-01-14T05:45:00.000Z','2016-01-14T05:50:00.000Z'];
                    var layerId = 1395;
                    var autoPlay = true;
                    animateRequest = animateRequestBuilder(layerId, times, autoPlay, 'TIME', 'ISO8601');
                    me.sandbox.request(me, animateRequest);
                }
            }, 2000);
        },
        /**
        * @method init
        * implements Module protocol init method - initializes request handlers
        */
        init: function(){
            var me = this;
            var sandbox = me.getSandbox();
            var mapModule = sandbox.findRegisteredModuleInstance('MainMapModule');
            var locale = this.getLocalization('timeseriesplayback');
            var playback = Oskari.clazz.create('Oskari.mapframework.bundle.timeseries.TimeseriesPlayback', this, me.conf, locale, mapModule, sandbox);
            me._modules.playback = playback;

            this.requestHandlers = {
                animateLayerRequest : Oskari.clazz.create('Oskari.mapframework.bundle.timeseries.request.AnimateLayerRequestHandler', this._modules.playback)
            };
        },
        /**
         * @method stop
         * implements BundleInstance protocol stop method
         */
        stop: function () {
            var me = this;
            me.sandbox = null;
            me.started = false;
            if(me._modules.playback) {
                me._modules.playback.removeSlider();
            }
        },
        /**
         * @method  @private _handleMapSizeChanged handle map size change event
         * @param  {Object} size map size
         */
        _handleMapSizeChanged: function(size){
            var me = this;
            if(me._modules.playback) {
                me._modules.playback.handleMapSizeChanged(size);
            }
        },
        /**
         * @method onEvent
         * Event is handled forwarded to correct #eventHandlers if found or discarded if not.
         * @param {Oskari.mapframework.event.Event} event a Oskari event object
         */
        onEvent: function (event) {
            var handler = this.eventHandlers[event.getName()];
            if (!handler) {
                return;
            }
            return handler.apply(this, [event]);
        },
        /**
         * @method _createEventHandlers
         * Create eventhandlers.
         *
         *
         * @return {Object.<string, Function>} EventHandlers
         */
        eventHandlers: {
            MapSizeChangedEvent: function (evt) {
                this._handleMapSizeChanged({width:evt.getWidth(), height:evt.getHeight()});
            }
        }
    }, {
        /**
         * @property {String[]} protocol
         * @static
         */
       "extend": ["Oskari.userinterface.extension.DefaultExtension"]
    });